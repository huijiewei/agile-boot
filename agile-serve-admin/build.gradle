apply plugin: 'org.springframework.boot'
// apply plugin: 'org.springframework.experimental.aot'

bootJar {
    launchScript()
}

configurations.all {
    exclude module: 'org.apache.tomcat.embed:tomcat-embed-core'
    exclude module: 'org.apache.tomcat.embed:tomcat-embed-websocket'
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-aop'
    implementation 'org.springframework.boot:spring-boot-starter-security'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation "org.apache.tomcat.experimental:tomcat-embed-programmatic:${tomcatVersion}"
    // implementation "org.springframework.experimental:spring-native:${springNativeVersion}"

    implementation libs.zalandoProblemWeb
    implementation libs.springdocOpenApiUi

    implementation project(':agile-spring-upload')
    implementation project(':agile-spring-captcha')
    implementation project(':agile-engine')

    annotationProcessor "org.springframework.boot:spring-boot-configuration-processor"
    annotationProcessor "org.springframework:spring-context-indexer"
}
